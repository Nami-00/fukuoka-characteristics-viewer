# 福岡市・北九州市 地域特性ビューア  
（Fukuoka / Kitakyushu Area Characteristics Viewer）

## 概要

本アプリは、**福岡市・北九州市を対象に、250mメッシュ単位で地域特性を可視化**する Web マップアプリです。  
建物用途データおよび飲食店データをもとに、地域を以下のような特性で分類・表示します。

- 住居が多い地域  
- 商業が多い地域  
- オフィスが多い地域  
- 多用途地域  
- 飲食店が多い地域（ヒートマップ）

Mapbox GL JS を用いたインタラクティブな地図表示により、  
**「広域俯瞰 → 詳細把握」** をスムーズに行うことを目的としています。

---

## 主な機能

### 1. 地域特性モード切替
画面左のラジオボタンから、以下のモードを切り替え可能です。

| モード | 判定条件 |
|------|------|
| 住居が多い | 住居系（住宅＋共同住宅＋店舗等併用住宅＋店舗等併用共同住宅）≥ 60% |
| 商業が多い | 商業系（商業施設＋商業系複合施設）≥ 30% |
| オフィスが多い | 業務施設 ≥ 30% |
| 多用途 | 住居系・商業系・業務施設がそれぞれ ≥ 15% かつ 建物総数 ≥ 50 |
| 飲食店の多さ | 飲食店数によるヒートマップ表示 |

---

### 2. メッシュ単位での可視化（ズームアウト時）

- 250m メッシュを塗り分け表示  
- 選択した地域特性モードに応じた色分け  
- 都市全体の傾向を俯瞰的に把握可能  

---

### 3. メッシュ詳細ポップアップ

メッシュをクリックすると、以下の情報をポップアップ表示します。

- 建物総数  
- 住居系建物数  
- 商業系建物数  
- 業務施設数  
- その他建物数  
- 飲食店数  

※ ポップアップは横幅を広く取り、**項目名と数値が読みやすいレイアウト**になっています。

---

### 4. 凡例表示

- 画面右下に凡例を常時表示  
- 現在のモードに応じて内容が切り替わります  
  - 飲食店モード：件数レンジ別の色凡例  
  - その他モード：該当する地域特性と判定条件の説明  

---

### 5. ズームイン時の個別建物表示（拡張機能）

**地域特性モード時にズームイン（目安：Zoom 14以上）** すると、

- 個別建物ポイントが表示されます  
- 建物をクリックすると **建物用途** を確認できます  

これにより、

> 「なぜこのメッシュがこの地域特性に分類されているのか」

を **建物レベルで確認**することができます。

---

## データ構成

### 使用データ

| ファイル名 | 内容 |
|-----------|------|
| `mesh_usage.geojson` | 250mメッシュごとの建物用途集計・飲食店数 |
| `buildings_usage.geojson` | 個別建物（ポイント）と用途情報 |

※ いずれも `web_data/` フォルダに配置します。

---

## ディレクトリ構成（例）

